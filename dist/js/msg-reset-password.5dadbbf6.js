(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["msg-reset-password"],{"31c9":function(e,t,s){},"9cb1":function(e,t,s){"use strict";s("31c9")},e800:function(e,t,s){"use strict";s.r(t);var o=s("7a23"),n=Object(o["withScopeId"])("data-v-b2fef186");Object(o["pushScopeId"])("data-v-b2fef186");var a={class:"wrapper"},r=Object(o["createVNode"])("span",{class:"title"},"Restore Code is Invalid",-1),c=Object(o["createVNode"])("span",{class:"title"},"Reset Your Password",-1),d={class:"max-wide"},u=Object(o["createTextVNode"])("Update password"),i=Object(o["createTextVNode"])(" Loading... ");Object(o["popScopeId"])();var l=n((function(e,t){var s=Object(o["resolveComponent"])("UIcon"),l=Object(o["resolveComponent"])("UMessageList"),p=Object(o["resolveComponent"])("UFloatingInput"),b=Object(o["resolveComponent"])("PasswordStrength"),w=Object(o["resolveComponent"])("UButton"),m=Object(o["resolveComponent"])("OFRC_FindInvestment"),f=Object(o["resolveComponent"])("UFooter");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",a,[0==e.tokenAlive?(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(s,{name:"cross"}),r],64)):1==e.tokenAlive?(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],{key:1},[c,Object(o["createVNode"])("div",d,[Object(o["createVNode"])(l,{ref:"passwordMessageList"},null,512),Object(o["createVNode"])(p,{modelValue:e.password_new1,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password_new1=t}),label:"New password",type:"password",required:"",scheme:e.Validators.VPassword},null,8,["modelValue","scheme"]),Object(o["createVNode"])(b,{passmodel:e.password_new1},null,8,["passmodel"]),Object(o["createVNode"])(p,{modelValue:e.password_new2,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.password_new2=t}),label:"Confirm new Password",type:"password",required:"",scheme:e.Validators.VPassword},null,8,["modelValue","scheme"]),Object(o["createVNode"])(w,{onClick:e.actionPasswordChange,class:"ui-btn ui-btn-green"},{default:n((function(){return[u]})),_:1},8,["onClick"])])],64)):(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],{key:2},[i],64))]),Object(o["createVNode"])(m,{wavePosition:"top"}),Object(o["createVNode"])(f)],64)})),p=s("1da1"),b=s("b85c"),w=(s("96cf"),s("8af4")),m=s("73ec"),f=s("0d0d"),O=s("a354"),v=s("7946"),j=s("d6d0"),h=s("dc13"),k=s("c00e"),g=s("3a92"),V=Object(o["defineComponent"])({components:{UButton:w["a"],UFloatingInput:O["a"],UMessageList:v["a"],PasswordStrength:j["a"],OFRC_FindInvestment:m["a"],UFooter:f["a"]},computed:{Account:function(){return h["a"]},Validators:function(){return{VPassword:k["f"]}}},data:function(){return{busy:!1,tokenAlive:null,token:"",password_new1:"",password_new2:""}},methods:{processServerMessages:function(e){if(e.server_messages){var t,s=Object(b["a"])(e.server_messages);try{for(s.s();!(t=s.n()).done;){var o=t.value;this.$refs.passwordMessageList.push({type:o.level,message:o.message})}}catch(e){s.e(e)}finally{s.f()}}this.busy=!1},actionPasswordChange:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.busy){t.next=2;break}return t.abrupt("return");case 2:if(e.password_new1==e.password_new2){t.next=4;break}return t.abrupt("return",e.$refs.passwordMessageList.push({type:"error",message:"Passwords are not the equal"}));case 4:return t.next=6,k["f"].isValid(e.password_new1);case 6:s=t.sent,s&&(e.busy=!0,h["a"].Auth.changePasswordByResetToken(e.token,e.password_new1).then((function(){e.busy=!1,Object(g["b"])("ofirio-action-reload-auth"),e.$router.push({name:"static-home"})}),(function(t){return e.processServerMessages(t)})));case 8:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this,t=this.$route.params.token;h["a"].Auth.checkPasswordResetToken(t).then((function(s){e.tokenAlive=!0,e.token=t})).catch((function(t){e.tokenAlive=!1}))}}),_=(s("9cb1"),s("6b0d")),C=s.n(_);const y=C()(V,[["render",l],["__scopeId","data-v-b2fef186"]]);t["default"]=y}}]);